---
import Banner from "../components/Banner.astro";
import Baz from "./Baz.astro";
import Backlinks from "../components/Backlinks.astro";
import Panels from "../components/Panels.svelte";
import "../styles/global.css";
import { generateOgImage } from "../lib/generate-og";

const { frontmatter, minutes } = Astro.props;

const ogImage = await generateOgImage({
    title: frontmatter.data.title,
    collection: frontmatter.collection,
    id: frontmatter.id,
});
---

<Baz
    pageTitle={frontmatter.data.title}
    description={frontmatter.data.description}
    ogImage={ogImage}
>
    <Banner
        metadata={frontmatter.data}
        minutes={minutes}
        collection={frontmatter.collection}
    />
    <slot />
    <Backlinks id={frontmatter.id} />
    <Panels client:load slot="panels-outside-main" />
</Baz>
<style>
    article {
        margin-top: calc(var(--q) * 8);
    }

    article :global(p) {
        text-align: justify;
        hyphens: auto;
    }

    .dot {
        text-align: center;
        color: var(--text-muted);
        margin: calc(var(--q) * 8) 0;
    }
</style>
